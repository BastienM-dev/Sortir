{% extends 'base.html.twig' %}

{% block title %}
    Profil - {{ participant.pseudo }}
{% endblock %}

{% block body %}
    <main class="page-content container">

        <h1 class="text-center mb-5">
            {{ participant.pseudo }}
        </h1>

        <div class="row align-items-start justify-content-center">

            {# Photo #}
            <div class="col-md-4 text-center mb-4">
                {% if participant.photoFilename %}
                    <img
                            src="{{ asset('uploads/profiles/' ~ participant.photoFilename) }}"
                            alt="Photo de profil"
                            class="img-fluid rounded border border-dark"
                            style="max-width:250px;"
                    >
                {% else %}
                    <img
                            src="{{ asset('img/default-avatar.png') }}"
                            alt="Avatar par défaut"
                            class="img-fluid rounded border border-dark"
                            style="max-width:250px;"
                    >
                {% endif %}
            </div>


            <div class="col-md-6">

                <div class="row mb-3">
                    <div class="col-4 fw-bold">Campus</div>
                    <div class="col-8">{{ participant.site.nom }}</div>
                </div>

                <div class="row mb-3">
                    <div class="col-4 fw-bold">Prénom</div>
                    <div class="col-8">{{ participant.prenom }}</div>
                </div>

                <div class="row mb-3">
                    <div class="col-4 fw-bold">Nom</div>
                    <div class="col-8">{{ participant.nom }}</div>
                </div>

                <div class="row mb-3">
                    <div class="col-4 fw-bold">Téléphone</div>
                    <div class="col-8">
                        {{ participant.telephone ?: '—' }}
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-4 fw-bold">Email</div>
                    <div class="col-8">
                        <a href="mailto:{{ participant.mail }}">
                            {{ participant.mail }}
                        </a>
                    </div>
                </div>

                {% if participant.administrateur %}
                    <div class="row mb-3">
                        <div class="col-4 fw-bold">Rôle</div>
                        <div class="col-8">Administrateur</div>
                    </div>
                {% endif %}

                {% if app.user and app.user.id == participant.id %}
                    <div class="mt-4">
                        <a class="btn btn-primary me-2"
                           href="{{ path('profil_edit') }}">
                            Modifier mon profil
                        </a>

                        <a class="btn btn-secondary"
                           href="{{ path('profil_photo_edit') }}">
                            Changer ma photo
                        </a>
                    </div>
                {% endif %}

            </div>
        </div>

    </main>
{% endblock %}
